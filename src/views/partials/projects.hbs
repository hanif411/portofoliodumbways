<section id="projects" class="py-16 md:py-24">
  <h2
    class="text-3xl font-bold tracking-tight text-gray-900 mb-12 text-center lg:text-left"
  >{{#if user}}
      <a href="/projects"><i class="fa-solid fa-plus"></i></a>{{/if}}
    My Projects:
  </h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    {{#each projects}}
      <div
        class="bg-white p-6 rounded-xl border border-gray-100/70 group hover:shadow-md transition-shadow duration-300"
      >
        <div
          class="w-full h-52 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center p-6 mb-5"
        >
          <img
            src="../public/projects/{{this.image_url}}"
            alt={{this.project_name}}
            class="w-full object-contain"
          />
        </div>
        <div>
          <h3
            class="text-xl font-semibold text-gray-900 mb-1"
          >{{this.project_name}}</h3>
          <p class="text-base text-gray-600 mb-4 line-clamp-3">
            {{this.description}}
          </p>
          <div class="mt-4 flex flex-wrap gap-2 mb-5">
            {{#each this.technologies}}
              <span
                class="text-xs font-medium bg-gray-100 text-gray-600 px-3 py-1 rounded-full"
              >{{this}}</span>
            {{/each}}
          </div>
          <div class="flex items-center space-x-4 text-sm font-medium">
            <a
              href="https://github.com/your-repo/fakturly"
              target="_blank"
              class="flex items-center text-gray-600 hover:text-gray-900 transition-colors"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="w-4 h-4 mr-1.5"
              ><path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577 0-.285-.011-1.042-.017-2.043-3.338.724-4.042-1.61-4.042-1.61C4.422 18.067 3.633 17.7 3.633 17.7c-1.087-.744.084-.73.084-.73 1.205.084 1.838 1.237 1.838 1.237 1.07 1.835 2.809 1.305 3.492.998.108-.77.418-1.305.762-1.605-2.665-.3-5.466-1.33-5.466-5.93 0-1.31.465-2.381 1.235-3.221-.103-.3-.423-1.524.098-3.179 0 0 1.002-.322 3.3.992.957-.266 1.983-.399 3.003-.404 1.02.005 2.046.138 3.003.404 2.298-1.314 3.298-.992 3.298-.992.521 1.656.2 2.88.098 3.179.77.84 1.235 1.911 1.235 3.221 0 4.61-2.804 5.621-5.475 5.922.42.359.81 1.077.81 2.179 0 1.579-.011 2.858-.011 3.251 0 .319.192.694.801.576C20.566 21.792 24 17.29 24 12 24 5.373 18.627 0 12 0z"
                /></svg>
              Private Repository
            </a>
            <a
              href="https://fakturly-demo.vercel.app"
              target="_blank"
              class="flex items-center text-blue-600 hover:text-blue-700 transition-colors"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="w-4 h-4 mr-1.5"
              ><path
                  d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
                ></path><polyline points="15 3 21 3 21 9"></polyline><line
                  x1="10"
                  y1="14"
                  x2="21"
                  y2="3"
                ></line></svg>
              Live Demo
            </a>
          </div>
        </div>

        {{#if @root.user}}
          <div class="mt-4 flex justify-end space-x-3">
            <button
              type="button"
              command="show-modal"
              commandfor="deleteProjectModal-{{this.id}}"
              class="text-sm font-medium text-red-600 hover:text-red-700 transition-colors flex items-center gap-1"
            >
              <i class="fa-solid fa-trash"></i>
              Delete
            </button>

            <button
              type="button"
              command="show-modal"
              commandfor="editProjectModal-{{this.id}}"
              class="text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors flex items-center gap-1"
            >
              <i class="fa-solid fa-pen-to-square"></i>
              Edit
            </button>
          </div>
        {{/if}}

        {{>projects-modal}}
      </div>

    {{/each}}
  </div>
</section>